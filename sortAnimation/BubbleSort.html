<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title></title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap-theme.min.css">
    <script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>

    <style type="text/css">
        .col-md-12 {
            margin-top: 5px;
            margin-bottom: 5px;
        }

    </style>


</head>

<body>
<div class="container">

    <div class="row" style="margin-top:50px;">
        <h1 class="text-center">BubbleSort</h1>
    </div>
    <div id="buttonsdiv" class="row text-center" style="margin-top:50px;">

    </div>
</div>
</body>
<script type="text/javascript">
    var arrhis=[];
    var arr = [];
    function sort() {
        var len = arr.length;
        for (var i = len - 1; i > 0; i--) {
            for (var j = 0; j < i; j++) {
                if (arr[j] > arr[j + 1]) {
                    console.log("j=" + j + "," + arr[j] + "," + arr[j + 1]);

                    var tem = arr[j];
                    arr[j] = arr[j + 1];
                    arr[j + 1] = tem;
                    this.arrhis.push(arr.slice());
                }
            }
        }
    }


    function draw(buttons){
        var html="";

        for(var n=0;n<buttons.length;n++){
             html=html+"<button type=\"button\" class=\"btn btn-primary\" style=\"margin-left:5px;\">"+buttons[n]+"</button>";
        }

        $("#buttonsdiv").html(html);

    }
    function random(){
        for(var i=0;i<20;i++){
            arr.push(Math.floor(Math.random() * 100 ));
        }
    }
    random();
    sort();
    show();
function show(){
    this.timer = setInterval(function(){
        if(arrhis.length>0){
            draw(arrhis.shift());
        }else{
            clearInterval(this.timer);
        }
    },300);
}
</script>
</html>